<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>RIM KLONG POS ‚Äî Back Office</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô 404 Favicon -->
  <link rel="icon" href="data:,">

  <!-- FONT -->
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- MAIN STYLE -->
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>

<body class="admin-body theme-light">

  <!-- =========== SIDEBAR =========== -->
  <aside class="sidebar glass">
    <div class="sidebar-header">
      <h2 class="brand">
        RIM KLONG<br />
        <span>Back Office ¬∑ SuperA</span>
      </h2>
    </div>

    <nav class="sidebar-menu">
      <button class="menu-item active" data-target="tabDashboard">üìä Dashboard</button>
      <button class="menu-item" data-target="tabStatus">ü™ë ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô</button>
      <button class="menu-item" data-target="tabLayout">üìê ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏±‡∏á‡∏£‡πâ‡∏≤‡∏ô 2D</button>
      <button class="menu-item" data-target="tabProducts">üçΩ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
      <button class="menu-item" data-target="tabCategories">üìÅ ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
      
      <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå ‡∏à‡∏∞‡∏°‡∏µ span id="sidebarOrderCount" ‡πÑ‡∏ß‡πâ‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
      <button class="menu-item" data-target="tabOrders" style="justify-content:space-between;">
        <span>üßæ ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</span>
        <span id="sidebarOrderCount" class="sidebar-badge" style="display:none;">0</span>
      </button>
      
      <button class="menu-item" data-target="tabKitchen">üë®‚Äçüç≥ ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß</button>
      <button class="menu-item" data-target="tabSales">üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</button>
      <button class="menu-item" data-target="tabUsers">üë§ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</button>
      <button class="menu-item" data-target="tabSettings">‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</button>
    </nav>
  </aside>

  <!-- =========== MAIN CONTENT =========== -->
  <main class="content-area">

    <!-- HEADER -->
  <header class="admin-header glass-strong">
    <h2 id="tabTitle">Dashboard Overview</h2>
    <div class="admin-actions">
      <button id="sidebarToggle" class="icon-btn only-mobile" aria-label="‡πÄ‡∏°‡∏ô‡∏π">‚ò∞</button>
      <button id="adminThemeToggle" class="icon-btn" aria-label="Toggle theme">üåô</button>
      <span class="status-dot online"></span> ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå
      <button id="btnLogout" class="btn small red" style="margin-left:8px;">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
    </div>
  </header>

    <!-- ===========================
         TAB: DASHBOARD
    ============================ -->
    <section id="tabDashboard" class="tab-page visible">

      <div class="dash-grid">
        <div class="dash-card glass">
          <h3>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h3>
          <div id="dashToday" class="dash-value">0 ‡∏ø</div>
        </div>

        <div class="dash-card glass">
          <h3>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏¥‡∏•</h3>
          <div id="dashBills" class="dash-value">0</div>
        </div>

        <div class="dash-card glass">
          <h3>‡πÄ‡∏°‡∏ô‡∏π‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</h3>
          <div id="dashBestMenu" class="dash-value-sm">-</div>
        </div>

        <div class="dash-card glass">
          <h3>‡πÇ‡∏ï‡πä‡∏∞‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°</h3>
          <div id="dashBestTable" class="dash-value-sm">-</div>
        </div>
      </div>

      <div class="dash-lists">
        <div class="list-box glass">
          <h3>10 ‡πÄ‡∏°‡∏ô‡∏π‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</h3>
          <ul id="topMenuList"></ul>
        </div>

        <div class="list-box glass">
          <h3>‡πÇ‡∏ï‡πä‡∏∞‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°</h3>
          <ul id="topTableList"></ul>
        </div>
      </div>

        <div class="dash-filters glass" style="margin-top:20px;">
    <div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
      <label>‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
      <input type="date" id="dashStart" />
      <label>‡∏ñ‡∏∂‡∏á</label>
      <input type="date" id="dashEnd" />

      <select id="dashMode">
        <option value="day">‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</option>
        <option value="week">‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</option>
        <option value="month">‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</option>
        <option value="year">‡∏£‡∏≤‡∏¢‡∏õ‡∏µ</option>
      </select>

      <button id="dashApply" class="btn small">‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ</button>
    </div>
  </div>
  <div id="dashChart" class="dash-chart glass" style="margin-top:12px;"></div>

    </section>


    <!-- ===========================
         TAB: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
    ============================ -->
    <section id="tabStatus" class="tab-page">
      <div class="status-header">
        <h3>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô (Real-Time)</h3>
        <p style="font-size:13px;color:var(--text-sub);margin:4px 0 10px;">
          ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡πÇ‡∏ï‡πä‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠ ‡∏à‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞ / ‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ô‡∏±‡πà‡∏á / ‡∏£‡∏ß‡∏°‡πÇ‡∏ï‡πä‡∏∞ / ‡∏õ‡∏£‡∏¥‡πâ‡∏ô QR / ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ö‡∏¥‡∏•
        </p>

        <div class="status-legend">
          <span><span class="legend-box free"></span> ‡∏ß‡πà‡∏≤‡∏á</span>
          <span><span class="legend-box reserved"></span> ‡∏à‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß</span>
          <span><span class="legend-box occupied"></span> ‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ô‡∏±‡πà‡∏á</span>
          <span><span class="legend-box merged"></span> ‡∏£‡∏ß‡∏°‡πÇ‡∏ï‡πä‡∏∞</span>
        </div>
      </div>

      <div id="tableStatusGrid" class="status-canvas"></div>
    </section>


    <!-- ===========================
         TAB: ‡∏ú‡∏±‡∏á‡∏£‡πâ‡∏≤‡∏ô 2D
    ============================ -->
    <section id="tabLayout" class="tab-page">
      <div class="layout-header">
        <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏±‡∏á‡∏£‡πâ‡∏≤‡∏ô 2D</h3>
        <div style="display:flex;gap:6px;flex-wrap:wrap;">
          <button id="btnAddTable" class="btn green">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏ï‡πä‡∏∞</button>
        </div>
      </div>

      <div id="tableLayoutWorkspace" class="glass-layout">
        <div id="layoutCanvas" class="layout-canvas"></div>
      </div>
    </section>


    <!-- ===========================
         TAB: ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
    ============================ -->
    <section id="tabProducts" class="tab-page">
      <div class="pm-header">
        <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
        <button class="btn green" id="addProductBtn">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
      </div>

      <div id="productList" class="product-list">
        <!-- ProductUI -->
      </div>
    </section>


    <!-- ===========================
         TAB: ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
    ============================ -->
    <section id="tabCategories" class="tab-page">
      <div class="cm-header">
        <h3>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
        <button class="btn green" id="addCategoryBtn">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</button>
      </div>

      <!-- ‡πÉ‡∏ä‡πâ class product-list ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ layout ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
      <div id="categoryList" class="product-list">
        <!-- CategoryUI -->
      </div>
    </section>


    <!-- ===========================
         TAB: ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå
    ============================ -->
    <section id="tabOrders" class="tab-page">
      <h3>‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
      <p style="font-size:13px;color:var(--text-sub);margin:4px 0 10px;">
        ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ï‡πà‡∏≤‡∏á‡πÜ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ
      </p>
      <div id="orderList" class="order-list-grid">
        <!-- OrderUI -->
      </div>
    </section>


    <!-- ===========================
         TAB: ‡∏Ñ‡∏£‡∏±‡∏ß
    ============================ -->
    <section id="tabKitchen" class="tab-page">
      <h3>‡∏Ñ‡∏£‡∏±‡∏ß ‚Äî ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥</h3>
      <div id="kitchenList" class="kitchen-grid">
        <!-- KitchenUI -->
      </div>
    </section>


    <!-- ===========================
         TAB: ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢ (Sales)
    ============================ -->
    <section id="tabSales" class="tab-page">
      <div class="pm-header">
        <h3>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</h3>
      </div>
      <div class="sales-filter glass">
        <label>‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
        <input type="date" id="salesDateStart" />
        <label>‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
        <input type="date" id="salesDateEnd" />
        <button class="btn green" id="filterSalesBtn">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
      </div>

      <!-- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô UI ‡πÄ‡∏õ‡πá‡∏ô Table List -->
      <div class="glass" style="margin-top:10px; padding:10px; overflow-x:auto;">
        <table class="data-table" id="salesTable">
          <thead>
            <tr>
              <th>‡∏ö‡∏¥‡∏•‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</th>
              <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà/‡πÄ‡∏ß‡∏•‡∏≤</th>
              <th>‡πÇ‡∏ï‡πä‡∏∞</th>
              <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
              <th>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢</th>
              <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
            </tr>
          </thead>
          <tbody>
            <!-- Sales Rows -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- ===========================
         TAB: User Manager
    ============================ -->
    <section id="tabUsers" class="tab-page">
      <div class="pm-header">
        <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö (User Manager)</h3>
        <button class="btn green" id="addUserBtn">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</button>
      </div>
      
      <div class="glass" style="margin-top:10px; padding:10px; overflow-x:auto;">
        <table class="data-table" id="usersTable">
          <thead>
            <tr>
              <th>‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
              <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</th>
              <th>‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</th>
              <th>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠</th>
              <th>‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>


    <!-- ===========================
         TAB: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
    ============================ -->
    <section id="tabSettings" class="tab-page">
      <h3>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</h3>
      <p style="font-size:14px;color:var(--text-sub);">
        - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏ö‡∏ö POS RIM KLONG<br />
        - POS BY SuperA<br />
      </p>
      
      <div class="glass" style="padding:15px; margin-top:10px; max-width:400px;">
        <h4>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</h4>
        <!-- Demo -->
        <p>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô: RIM KLONG Camp</p>
        <p>‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô: 1.0.0</p>
        <p>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 25-Nov-2025</p>
      </div>
    </section>

  </main>

  <!-- =========== ADMIN THEME + PATTERN BUTTON =========== -->
  <script>
    (function () {
      const body = document.body;
      const btn = document.getElementById("adminThemeToggle");

      // ‡πÇ‡∏´‡∏•‡∏î‡∏ò‡∏µ‡∏°‡∏à‡∏≤‡∏Å localStorage
      const saved = localStorage.getItem("rk_admin_theme") || "light";
      if (saved === "dark") {
        body.classList.remove("theme-light");
        body.classList.add("theme-dark");
        if (btn) btn.textContent = "‚òÄÔ∏è";
      }

      if (btn) {
        btn.addEventListener("click", () => {
          const isDark = body.classList.contains("theme-dark");
          if (isDark) {
            body.classList.remove("theme-dark");
            body.classList.add("theme-light");
            btn.textContent = "üåô";
            localStorage.setItem("rk_admin_theme", "light");
          } else {
            body.classList.remove("theme-light");
            body.classList.add("theme-dark");
            btn.textContent = "‚òÄÔ∏è";
            localStorage.setItem("rk_admin_theme", "dark");
          }
        });
      }

      // ‡∏õ‡∏∏‡πà‡∏° Logout
      const btnLogout = document.getElementById("btnLogout");
      if(btnLogout) {
        btnLogout.addEventListener("click", () => {
           if(confirm("‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) {
             localStorage.removeItem("rk_admin_user");
             location.reload();
           }
        });
      }

      // ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏±‡∏á‡πÇ‡∏ï‡πä‡∏∞‡πÅ‡∏ö‡∏ö Pattern 4 ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á (‡πÄ‡∏î‡πÇ‡∏°)
      const addTableBtn = document.getElementById("btnAddTable");
      if (addTableBtn) {
        addTableBtn.addEventListener("click", () => {
          if (window.LayoutEngine) {
            LayoutEngine.applyPattern("4seat");
          }
        });
      }
    })();
  </script>

  <!-- =========== MAIN JS =========== -->
  <!-- Supabase v2 -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="assets/js/app.js"></script>
</body>
</html>